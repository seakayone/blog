buildscript {
  repositories {
    jcenter()
  }
  dependencies {
    classpath 'me.champeau.gradle:jbake-gradle-plugin:0.2'
    classpath 'org.jbake:jbake-core:2.4.0'
    classpath 'org.freemarker:freemarker:2.3.19'
    classpath 'org.asciidoctor:asciidoctorj:1.5.4'
    classpath 'org.pegdown:pegdown:1.5.0'
  }
}

apply plugin: 'me.champeau.jbake'

jbake {
  input = file 'src/jbake'
  clearCache = true
}

task wrapper(type: Wrapper) {
  gradleVersion = '2.12'
}


task publish(dependsOn: 'jbake', type: GradleBuild) {
  System.setProperty('jna.nosys', 'true')
  buildFile = 'publish.gradle'
  tasks = ['publishGhPages']
}
